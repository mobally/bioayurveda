define(['jquery','Magento_Braintree/js/view/payment/3d-secure'],function($,verify3DSecure){'use strict';return{initialized:false,validators:[],initialize:function(){var config=this.getConfig();if(this.initialized){return;}
this.initialized=true;if(config[verify3DSecure.getCode()].enabled){verify3DSecure.setConfig(config[verify3DSecure.getCode()]);this.add(verify3DSecure);}},getConfig:function(){return window.checkoutConfig.payment;},add:function(validator){this.validators.push(validator);},validate:function(context,successCallback,errorCallback){var self=this,deferred;self.initialize();if(!self.validators.length){successCallback();return;}
deferred=$.map(self.validators,function(current){return current.validate(context);});$.when.apply($,deferred).done(function(){successCallback();}).fail(function(error){errorCallback(error);});}};});